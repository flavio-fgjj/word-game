<ion-header >
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-title size="medium" class="pageTitle">
        Word Game
      </ion-title>
    </ion-buttons>
    <app-modal-info></app-modal-info>
    <ion-item-group slot="end" style="border: none !important;">
      <ion-item *ngIf="alreadyStarted">
        <ion-badge color="primary">{{ totalSuccess }}</ion-badge>
        <span style="margin-left: 5px;">x</span>
        <ion-badge color="danger" style="margin-left:5px;">{{ totalErrors }}</ion-badge>
      </ion-item>
      <ion-item *ngIf="!alreadyStarted">
        <ion-chip outline color="secondary" (click)="start()">
          <ion-icon name="play-outline" style="padding-right: 10px;"></ion-icon>
        </ion-chip>
      </ion-item>
    </ion-item-group>
   
  </ion-toolbar>
</ion-header>

<ion-content  padding>
  <ion-modal trigger="triggerHelp"
    [breakpoints]="[0.1, 0.6, 1]"
    [initialBreakpoint]="1"
    [backdropDismiss]="true"
  >
    <ng-template>
      <ion-header translucent>
        <ion-toolbar>
          <ion-title slot="start">Ajuda extra</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeModal()"><ion-icon name="close-circle-outline"></ion-icon></ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <ion-accordion-group>
          <ion-accordion>
            <ion-item slot="header">
              <ion-label>Significado</ion-label>
            </ion-item>
            <ion-list slot="content">
              <ion-item>
                <ion-card>
                  <ion-card-header>
                    <ion-card-subtitle>{{grammaticalClass}}</ion-card-subtitle>
                    <ion-card-title *ngIf="!meaningSeen">
                      <ion-chip outline color="secondary" (click)="fnMeaningSeen()">
                        <ion-icon name="eye-outline" style="padding-right: 10px;"></ion-icon>
                      </ion-chip>
                    </ion-card-title>
                  </ion-card-header>

                  <ion-card-content *ngIf="meaningSeen" style="text-align: center">
                    {{meaning}}
                  </ion-card-content>
                </ion-card>
              </ion-item>
            </ion-list>
          </ion-accordion>

          <ion-accordion>
            <ion-item slot="header">
              <ion-label>Sin么nimos/Ant么nimos</ion-label>
            </ion-item>
            <ion-list slot="content">
              <ion-item>
                <ion-card>
                  <ion-card-header>
                    <ion-card-title *ngIf="!synSeen">
                      <ion-chip outline color="secondary" (click)="fnSynSeen()">
                        <ion-icon name="eye-outline" style="padding-right: 10px;"></ion-icon>
                      </ion-chip>
                    </ion-card-title>
                  </ion-card-header>
                  <ion-card-content *ngIf="synSeen">
                    <ul>
                      <li>Sin么nimos</li>
                      <ol *ngFor="let s of syn">
                        {{s}}
                      </ol>
                      <li>Ant么nimos</li>
                      <ol *ngFor="let s of ant">
                        {{s}}
                      </ol>
                    </ul>
                  </ion-card-content>
                </ion-card>
              </ion-item>
            </ion-list>
          </ion-accordion>

          <ion-accordion>
            <ion-item slot="header">
              <ion-label>Uso na frase</ion-label>
            </ion-item>
            <ion-list slot="content">
              <ion-item>
                <ion-card>
                  <ion-card-header>
                    <ion-card-title *ngIf="!phraseSeen">
                      <ion-chip outline color="secondary" (click)="fnPhraseSeen()">
                        <ion-icon name="eye-outline" style="padding-right: 10px;"></ion-icon>
                      </ion-chip>
                    </ion-card-title>
                  </ion-card-header>
                  <ion-card-content *ngIf="phraseSeen">
                    {{font}}<br><br>
                    <p style="text-align:center;">{{phrase}}</p><br>
                    {{author}}
                  </ion-card-content>
                </ion-card>
              </ion-item>
            </ion-list>
          </ion-accordion>
        </ion-accordion-group>
      </ion-content>
    </ng-template>
  </ion-modal>

  <div id="container">
    <div id="board-container">
      <!-- <span class="process" *ngIf="alreadyStarted">{{grammaticalClass}}</span> -->
      <!-- <span class="meaning" style="text-align: center;margin: 0px 5px 5px 5px">{{meaning}}</span> -->
      <!-- <ion-item-divider class="customDivider"></ion-item-divider> -->
      <div class="pageError" *ngIf="errorPage">
        <ion-icon name="warning-outline" color="danger"></ion-icon><br>
        <ion-label color="danger">Estamos enfrentando problemas! <br><br>Favor tentar mais tarde! <br><br>Desculpe o transtorno!</ion-label>
      </div>
      <div id="board_try1">
        <!-- <P>1</P> -->
        <div *ngFor="let div of wordSquares" class="square animate__animated" id="{{div.id}}_try1">
        </div>
      </div>
      <div id="board_try2" class="hide">
        <!-- <P>2</P> -->
        <div *ngFor="let div of wordSquares" class="square animate__animated" id="{{div.id}}_try2">
        </div>
      </div>
      <div id="board_try3" class="hide">
        <!-- <P>3</P> -->
        <div *ngFor="let div of wordSquares" class="square animate__animated" id="{{div.id}}_try3">
        </div>
      </div>
      <div id="board_try4" class="hide">
        <!-- <P>4</P> -->
        <div *ngFor="let div of wordSquares" class="square animate__animated" id="{{div.id}}_try4">
        </div>
      </div>
      <div id="board_try5" class="hide">
        <!-- <P>5</P> -->
        <div *ngFor="let div of wordSquares" class="square animate__animated" id="{{div.id}}_try5">
        </div>
      </div>
      <!-- <div id="board">
        <P>&nbsp;&nbsp;</P>
        <div *ngFor="let div of wordSquares" class="square animate__animated" [id]="div.id">
        </div>
      </div> -->
    </div>

    <!-- <div id="divError" style="text-align: center;">
      <span id="errorMessage" class="error-message hide">{{ errorMessage }}</span>
      <ion-item-divider id="errorMessageHr" class="customDivider hide"></ion-item-divider>
    </div> -->
  </div>

  <div id="keyboard-container">
    <div class="keyboard-row">
      <button data-key="q" (click)="updateGuessedWords('q')">q</button>
      <button data-key="w" (click)="updateGuessedWords('w')">w</button>
      <button data-key="e" (click)="updateGuessedWords('e')">e</button>
      <button data-key="r" (click)="updateGuessedWords('r')">r</button>
      <button data-key="t" (click)="updateGuessedWords('t')">t</button>
      <button data-key="y" (click)="updateGuessedWords('y')">y</button>
      <button data-key="u" (click)="updateGuessedWords('u')">u</button>
      <button data-key="i" (click)="updateGuessedWords('i')">i</button>
      <button data-key="o" (click)="updateGuessedWords('o')">o</button>
      <button data-key="p" (click)="updateGuessedWords('p')">p</button>
    </div>
    <div class="keyboard-row">
      <div class="spacer-half"></div>
      <button data-key="a" (click)="updateGuessedWords('a')">a</button>
      <button data-key="s" (click)="updateGuessedWords('s')">s</button>
      <button data-key="d" (click)="updateGuessedWords('d')">d</button>
      <button data-key="f" (click)="updateGuessedWords('f')">f</button>
      <button data-key="g" (click)="updateGuessedWords('g')">g</button>
      <button data-key="h" (click)="updateGuessedWords('h')">h</button>
      <button data-key="j" (click)="updateGuessedWords('j')">j</button>
      <button data-key="k" (click)="updateGuessedWords('k')">k</button>
      <button data-key="l" (click)="updateGuessedWords('l')">l</button>
      <div class="spacer-half"></div>
    </div>
    <div class="keyboard-row">
      <button data-key="enter" class="wide-button" (click)="handleSubmitWord()">Enter</button>
      <button data-key="z" (click)="updateGuessedWords('z')">z</button>
      <button data-key="x" (click)="updateGuessedWords('x')">x</button>
      <button data-key="c" (click)="updateGuessedWords('c')">c</button>
      <button data-key="v" (click)="updateGuessedWords('v')">v</button>
      <button data-key="b" (click)="updateGuessedWords('b')">b</button>
      <button data-key="n" (click)="updateGuessedWords('n')">n</button>
      <button data-key="m" (click)="updateGuessedWords('m')">m</button>
      <button data-key="del" class="wide-button" (click)="handleDeleteLetter()">Del</button>
    </div>
  </div>
  
</ion-content>

<ion-footer collapse="fade">
  <ion-toolbar>
    <ion-grid>
      <ion-row text-center>
        <ion-col size="12">
          <ion-chip outline color="secondary">
            <ion-icon name="trophy-outline"></ion-icon>
            <ion-badge color="light" style="margin-left: 10px;">{{score}}</ion-badge>
            <ion-badge color="success" style="margin-left: 10px;">10</ion-badge>
          </ion-chip>
          <ion-chip outline color="secondary">
            <ion-icon name="share-social-outline" style="padding-right: 15px;"></ion-icon>
          </ion-chip>
          
          <ion-chip id="triggerHelp" outline color="secondary" style="float: right" data-toggle="tooltip" data-placement="bottom" title="Ajuda">
            AJUDA
            <ion-icon name="help-circle-outline" style="margin-left:5px;"></ion-icon>
          </ion-chip>
          <!-- <ion-chip outline color="secondary" (click)="handleExtraHelpButtonClick()" style="float: right" data-toggle="tooltip" data-placement="bottom" title="Ajuda">
            AJUDA
            <ion-icon name="help-circle-outline" style="margin-left:5px;"></ion-icon>
          </ion-chip> -->
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-footer>